{% extends "base.html" %}
{% block content %}

<div class="detalle-inmueble">

    <!-- Imagen principal -->
    <div class="carousel">

    <div class="carousel-track">
        {% for img in imagenes %}
            <img src="{{ img }}" class="carousel-image">
        {% endfor %}
    </div>

    {% if imagenes|length > 1 %}
    <button class="carousel-btn prev">â€¹</button>
    <button class="carousel-btn next">â€º</button>
    {% endif %}

</div>

    <!-- TÃ­tulo -->
    <h2>{{ inmueble.titulo }}</h2>
    <p class="ubicacion">{{ inmueble.municipio }}</p>

    <!-- Datos clave -->
    <div class="datos-clave">

        <div class="dato precio">
            {{ inmueble.tipo_negocio }} Â· ${{ "{:,.0f}".format(inmueble.precio) }}
        </div>

        <div class="dato">
            {{ inmueble.tipo }}
        </div>

        {% if inmueble.habitaciones and inmueble.habitaciones > 0 %}
        <div class="dato">
            ğŸ› {{ inmueble.habitaciones }} habitaciones
        </div>
        {% endif %}

        {% if inmueble.banos and inmueble.banos > 0 %}
        <div class="dato">
            ğŸš¿ {{ inmueble.banos }} baÃ±os
        </div>
        {% endif %}

        {% if inmueble.parqueadero %}
        <div class="dato">
            ğŸš— Parqueadero
        </div>
        {% endif %}

    </div>

    <hr class="detalle-separador">

    <!-- DescripciÃ³n -->
    <div class="detalle-descripcion">
        <h4>DescripciÃ³n</h4>
        <p>{{ inmueble.descripcion }}</p>
    </div>

</div>

<script>
let index = 0;

const track = document.querySelector(".carousel-track");
const images = document.querySelectorAll(".carousel-image");
const prevBtn = document.querySelector(".carousel-btn.prev");
const nextBtn = document.querySelector(".carousel-btn.next");

function updateCarousel() {
    track.style.transform = `translateX(-${index * 100}%)`;
}

if (prevBtn && nextBtn) {
    prevBtn.addEventListener("click", () => {
        index = index === 0 ? images.length - 1 : index - 1;
        updateCarousel();
    });

    nextBtn.addEventListener("click", () => {
        index = index === images.length - 1 ? 0 : index + 1;
        updateCarousel();
    });
}
</script>


{% endblock %}
